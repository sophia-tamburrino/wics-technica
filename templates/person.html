<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ghost Selector</title>
    <style>
        body {
            background: url("/static/spooky-bg.gif") no-repeat center center fixed;
   background-size: cover;
   color: white;
   font-family: Arial, sans-serif;
   display: flex;
   flex-direction: column;
   align-items: center;
   padding: 20px;

        }

        .viewer {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-top: 40px;
        }

        .ghost-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .ghost-img {
            width: 250px;
            height: auto;
        }

        .arrow {
            font-size: 40px;
            cursor: pointer;
            padding: 20px;
            transition: 0.2s;
        }

        .arrow:hover {
            transform: scale(1.2);
        }

        button {
            margin-top: 20px;
            padding: 10px 20px;
            border: none;
            background: #ff00b7;
            color: white;
            font-size: 18px;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.2s;
        }

        button:hover {
            background: #ffa53b;
        }

        #startBtn {
            background: #a300c8;
        }

        #startBtn:hover {
            background: #873af2;
        }

        #ghostName {
            margin-top: 10px;
            font-size: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Select your Character</h1>

    <div class="viewer">
        <div class="arrow" onclick="prevGhost()">⟵</div>

        <div class="ghost-container">
            <img id="ghost" src="/static/littleghost.png" class="ghost-img" alt="Ghost Option">
            <div id="ghostName">Brother</div>
        </div>

        <div class="arrow" onclick="nextGhost()">⟶</div>
    </div>

    <button onclick="selectGhost()">Select</button>
    <button id="startBtn" onclick="startGame()">Start</button>

    <script>
        const ghosts = [
            "/static/littleghost.png",
            "/static/littleghost2.png",
            "/static/littleghost3.png",
            "/static/littleghost8.png",
            "/static/littleghost4.png",
            "/static/littleghost5.png",
            "/static/littleghost9.png",
            "/static/littleghost6.png",
            "/static/littleghost7.png"
        ];

        const ghostNames = [
            "Brother",
            "Sister",
            "Mother",
            "Father",
            "Gym Rat",
            "Crazy",
            "Nerd",
            "Pirate",
            "King"
            
        ];

        let index = 0;

        function updateGhost() {
            document.getElementById("ghost").src = ghosts[index];
            document.getElementById("ghostName").textContent = ghostNames[index];
        }

        function nextGhost() {
            index = (index + 1) % ghosts.length;
            updateGhost();
        }

        function prevGhost() {
            index = (index - 1 + ghosts.length) % ghosts.length;
            updateGhost();
        }

function selectGhost() {
            // save selection so the game page can read it later  // changed
            localStorage.setItem("selectedGhostIndex", index);          // changed
            localStorage.setItem("selectedGhostName", ghostNames[index]); // changed
            localStorage.setItem("selectedGhostImage", ghosts[index]);    // changed

            alert("Selected ghost: " + ghostNames[index]);
        }

        function startGame() {
            // ensure the current selection is stored before starting the game  // changed
            localStorage.setItem("selectedGhostIndex", index);          // changed
            localStorage.setItem("selectedGhostName", ghostNames[index]); // changed
            localStorage.setItem("selectedGhostImage", ghosts[index]);    // changed

            // go to the actual game page                                  // changed
            window.location.href = "game.html";                           // changed
        }

        // make sure initial ghost state is synced with index = 0          // changed
        updateGhost();                                                    // changed
    </script>
</body>
</html>